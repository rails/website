{% if page.title %}
{% assign title = site.world25_title | append: ' &mdash; ' | append: page.title %}
{% else %}
{% assign title = site.world25_title %}
{% endif %}

{% if page.description %}
{% assign description = page.description %}
{% else %}
{% assign description = site.description %}
{% endif %}

{% if page.og_image %}
{% assign image = page.og_image | absolute_url %}
{% else %}
{% assign image = '/assets/world/2025/rails-world-2025.png' | absolute_url %}
{% endif %}

{% assign url = page.url | absolute_url %}

<head>
  <title>{{ title }}</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{{ description }}" />

  <meta property="og:site_name" content="{{ site.world25_title }}" />
  <meta property="og:title" content="{{ title }}" />
  <meta property="og:description" content="{{ description }}" />
  <meta property="og:image" content="{{ image }}" />
  <meta property="og:url" content="{{ url }}" />
  <meta property="og:type" content="{% if page.collection == 'posts' %}article{% else %}website{% endif %}" />

  <meta name="twitter:title" content="{{ title }}" />
  <meta name="twitter:description" content="{{ description }}" />
  <meta name="twitter:image" content="{{ image }}" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@{{ site.twitter }}" />
  <meta name="twitter:image:alt" content="{{ site.world25_title }}" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ url }}"
      },
      "name": "{{ site.world25_title }}",
      "headline": "{{ title }}",
      "description": "{{ description }}",
      "url": "{{ url }}",
      "image": "{{ image }}"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>

  <script src="/assets/world/2023/scripts/back_to_top.js" defer></script>
  <script src="/assets/world/2023/scripts/carousel.js" defer></script>
  <script src="/assets/world/2023/scripts/modal_component.js" defer></script>

  <script type="module">
    import hotwiredTurbo from "https://cdn.jsdelivr.net/npm/@hotwired/turbo@latest/dist/turbo.es2017-esm.min.js";
  </script>

  <script type="text/javascript">
    document.addEventListener("turbo:click", (event) => {
      if (event.srcElement.closest("modal-component")) {
        event.preventDefault()
        Turbo.visit(event.detail.url)
      }
    })
  </script>

  <script>
    window.intercomSettings = {
      api_base: "https://api-iam.intercom.io",
      app_id: "rubyonrails",
    };

    (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/rubyonrails';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
  </script>

  <link rel="icon" href="/assets/images/favicon.ico" />
  <link rel="apple-touch-icon" type="image/png" href="/assets/images/apple-touch-icon.png" />
  <link rel="stylesheet" href="https://use.typekit.net/lar2lzk.css">
  <link rel="stylesheet" href="/assets/css/world-2025.css" />
  <link rel="canonical" href="{{ url }}" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet">
  <script src='https://js.tito.io/v2/with/inline' async></script>
</head>
